## Title: [3Week] 박진용

### 미션 요구사항 분석 & 체크리스트

---

#### 미션 요구사항 배경 및 정리

##### 필수미션
- **네이버클라우드플랫폼을 통한 배포, 도메인, HTTPS 까지 적용** (2)
- *배경*
    - 네이버 클라우드플랫폼을 이용함
    - 강사의 가이드 영상대로 진행
    - 나머지 미션을 수행한 후 마지막에 진행
- *목표*
    - https://도메인/ 형태로 접속이 가능
    - 운영서버에서 각종 소셜로그인, 인스타 아이디 연결이 잘되어야 함
- **내가 받은 호감리스트(/usr/likeablePerson/toList)에서 성별 필터링기능 구현** (1)
- *배경*
    - 현재 UI에서는 이 요구사항에 대한 작업이 완료되었음
    - 백엔드 쪽에서 필터링 로직만 구현하면 됨
- *목표*
    - 내가 받은 호감리스트에서 특정 성별을 가진 사람에게서 받은 호감만 필터링해서 볼 수 있음

##### 선택미션
- **젠킨스를 통해 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행되도록** (5)
- *배경*
    - 네이버클라우드플랫폼을 이용
    - 젠킨스 이용
    - 강사의 가이드 영상대로 진행
    - 나머지 미션을 수행한 후 마지막에 진행
- *목표*
    - 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행
- **내가 받은 호감리스트(/usr/likeablePerson/toList)에서 호감사유 필터링기능 구현** (3)
- *배경*
    - 현재 UI에서는 이 요구사항에 대한 작업 완료
    - 백엔드 쪽에서 필터링 로직만 구현하면 됨
- *목표*
    - 내가 받은 호감리스트에서 특정 호감사유의 호감만 필터링해서 볼 수 있음
- **내가 받은 호감리스트(/usr/likeablePerson/toList)에서 정렬 기능** (4)
- *배경*
    - 현재 UI에서는 이 요구사항에 대한 작업 완료
    - 백엔드 쪽에서 필터링 로직만 구현하면 됨
- *목표*
    - 아래 케이스 대로 작동해야함
        - 최신순(기본) : 가장 최근에 받은 호감표시를 우선적 표시
        - 날짜순 : 가장 오래전에 받은 호감표시를 우선적 표시
        - 인기 많은 순 : 가장 인기 많은 사람들의 호감표시를 우선적 표시
        - 인기 적은 순 : 가장 인기 적은 사람들의 호감표시를 우선적 표시
        - 성별순 : 여성에게 받은 호감표시를 먼저 표시하고, 그 다음 남자에게 받은 호감표시를 후에 표시
          (2순위 정렬조건으로는 최신순)
        - 호감사유순 : 외모때문에 받은 호감표시를 먼저 표시,
          그 다음 성격 때문에 받은 호감표시 후에 표시
          마지막 능력 때문에 받은 호감표시 후에 표시
          2순위 정렬조건으로는 최신순

#### 체크리스트

- 내가 받은 호감리스트 성별 필터링 처리 (1)
  - [x] `남성`/`여성` 필터링 결과 수 차이 테스트 케이스 작성
  - [x] 성별 필터링 기능 추가
- 내가 받은 호감리스트 호감사유 필터링 처리 (2)
  - [x] `외모`/`능력`/`성격` 필터링 결과 수 차이 테스트 케이스 작성
  - [x] 호감사유별 필터링 기능 추가
- 내가 받은 호감리스트 정렬 기능 (3)
  - [x] `최신순(default)` : 가장 최근에 받은 호감표시를 우선적 표시
  - [x] `날짜순` : 가장 오래전에 받은 호감표시를 우선적 표시
  - [x] `인기 많은순` : 가장 인기 많은 사람들의 호감표시를 우선적 표시
  - [x] `인기 적은순` : 가장 인기 적은 사람들의 호감표시를 우선적 표시
  - [ ] `성별순` : 
    1. 여성에게 받은 호감표시를 먼저 표시
    2. 그 다음 남자에게 받은 호감표시를 후에 표시
    3. 2순위 정렬조건으로는 최신순
  - [ ] `호감사유순` : 
    1. 외모때문에 받은 호감표시를 먼저 표시
    2. 그 다음 성격 때문에 받은 호감표시 후에 표시
    3. 마지막 능력 때문에 받은 호감표시 후에 표시
    4. 2순위 정렬조건으로는 최신순

### 3주차 미션 요약

---

**[접근 방법]**

- 

**[특이사항]**

구현 과정에서 아쉬웠던 점 / 궁금했던 점을 정리합니다.

- TDD를 활용해서 구현
- 정렬 기능을 구현하는 중 성별순, 호감사유순을 구현하는데 있어서 람다 함수를 2번처리하게 하는 부분에서 오류 발생
- 해결하고 싶었으나 시간 부족으로 못함
- **Test 코드 작성 중 성별, 호감사유 필터링에 대한 호감표시 버그 발생**
  - LikeablePersonServiceTests (t009 ~ t013)
  - 단순 실행시 첫번째로 좋아요 표시하는 회원이 2번 등록되는 버그 발생
  - 디버깅 모드, 실제 서버 구동시 정상 작동 
  - 테스트 실패로 배포 불가능 우려해 주석 처리
     

**참고: [Refactoring]**

- Refactoring 시 주로 다루어야 할 이슈들에 대해 리스팅합니다.
- 1차 리팩토링은 기능 개발을 종료한 후, 스스로 코드를 다시 천천히 읽어보면서 진행합니다.
- 2차 리팩토링은 피어리뷰를 통해 전달받은 다양한 의견과 피드백을 조율하여 진행합니다.

---

> 리팩토링 관련 사항