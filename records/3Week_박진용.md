## Title: [3Week] 박진용

### 미션 요구사항 분석 & 체크리스트

---

#### 미션 요구사항 배경 및 정리
- 필수미션
  - 네이버 클라우드 플랫폼을 통한 배포(도메인 없이, IP로 접속)
    - 배경
      - 네이버 클라우드 플랫폼 이용
      - 강사의 가이드 영상대로 진행
      - 나머지 미션을 수행한 후 마지막에 진행
    - 목표
      - `https://서버IP:포트/` 형태로 접속이 가능
      - 운영서버에서는 각종 소셜로그인, 인스타 아이디 연결이 안되어도 됨

  - 호감표시/호감사유변경 후, 개별 호감표시건에 대해서 3시간 동안은 호감취소, 호감사유변경이 불가능
    - 배경
        - 현재 UI에서는 이 요구사항에 대한 작업이 완료되었음
        - 백엔드 쪽에서 체크하는 로직만 추가하면 됨
    - 목표
        - 호감표시를 한 후 개별호감표시건에 대해, 3시간 동안 호감취소와 호감사유변경을 할 수 없게함
        - 호감사유 변경을 한 후 개별호감표시건에 대해, 3시간 동안 호감취소와 호감사유변경을 할 수 없게함
  - 추가미션
    - 알림기능 구현
      - 배경
        - 현재 알림페이지의 UI 레이아웃은 구현이 된 상태
        - 이를 기반으로 나머지 구현을 이어나가면 됨
        - 페이징 처리는 안해도 됨
      - 목표
        - 호감표시를 받았거나, 본인에 대한 호감사유가 변경된 경우 알림페이지에서 확인이 가능하도록 함
        - 각의 알림은 생성시에 readDate가 null이고, 사용자가 알림을 읽으면 readDate가 현재날짜로 세팅

#### 체크리스트
 - [x] 쿨타임 남은 시간 계산 표시
 - [x] 호감표시 후 3시간 동안 호감취소 불가능
 - [x] 호감사유 변경 후 3시간 동안 호감사유 변경 불가능
 - [x] 쿨타임(3시간) 이후 호감표시 / 호감변경이 가능
 - [x] 호감취소, 호감사유 변경 후 쿨타임 갱신
 - [x] 이벤트를 활용한 알림 기능
 - [x] 알림 서비스 코드(생성, 수정) 작성
 - [x] 호감 관련 이벤트(호감표시, 호감사유 변경)가 발생시 알림 객체 생성

### 3주차 미션 요약

---

**[접근 방법]**

- 각 요구사항 순서대로 진행
  - 쿨타임 남은 시간 계산
  - 호감표시 후 3시간 동안 호감취소 불가능
    - 현재 시간이 쿨타임 시간 보다 이후인지 확인
    - 쿨타임 시간보다 이전이라면 호감취소 불가능
    - 쿨타임 시간보다 이후라면 호감취소 가능
  - 호감사유 변경 후 3시간 동안 호감사유 변경 불가능
    - 현재 시간이 쿨타임 시간 보다 이후인지 확인
    - 쿨타임 시간보다 이전이라면 호감사유 변경 불가능
    - 쿨타임 시간보다 이후라면 호감사유 변경 가능
  - 호감취소, 호감사유 변경 진행 후 쿨타임 갱신
  - 알림기능
    - 호감 관련 이벤트 발생시 해당 이벤트 처리 시 알림 객체 생성
    - 알림 엔티티 관련 서비스 코드(생성, 수정) 작성

**[특이사항]**

구현 과정에서 아쉬웠던 점 / 궁금했던 점을 정리합니다.

- 알림 기능을 완전히 구현하지 못하였음
  - 읽지 않은 알림의 경우 불모양 아이콘이 나와야함
  - 읽은 알림의 경우는 불모양 아이콘이 없어야함
- 서비스 테스트 코드는 작성하는데 큰 불편함이 없지만 컨트롤러 관련 테스트는 어려움이 있음
- TDD를 활용해서 진행하고 싶었으나 코드 파악하는데 시간이 좀 걸려서 일부(서비스 테스트)만 진행하게 되었음

**참고: [Refactoring]**

- Refactoring 시 주로 다루어야 할 이슈들에 대해 리스팅합니다.
- 1차 리팩토링은 기능 개발을 종료한 후, 스스로 코드를 다시 천천히 읽어보면서 진행합니다.
- 2차 리팩토링은 피어리뷰를 통해 전달받은 다양한 의견과 피드백을 조율하여 진행합니다.
---

> 리팩토링 관련 사항
- 컨트롤러 테스트를 프론트 관련(특정 경우에 따라서 꼭 나타나야 하는 태그 요소) 항목으로 통일하고
- 서비스 테스트는 로직, 데이터 관련 항목으로 통일해서 리팩토링 하고 싶은 생각이 있음
- 모든 컨트롤러와 서비스 코드가 위의 테스트와 대응될 수 있도록 리팩토링
- Notification 클래스가 매끄럽지 않은 설계처럼 느껴져서 재설계를 통해 해결하고 싶음